package com.ishika.foodwaste.jpa.entity;

import jakarta.persistence.*;
import java.time.LocalDateTime;
@NamedQueries({
    @NamedQuery(
        name = "FoodDonation.findByLocation",
        query = "SELECT f FROM FoodDonation f WHERE f.location = :location"
    ),
    @NamedQuery(
        name = "FoodDonation.findByAssignedTo",
        query = "SELECT f FROM FoodDonation f WHERE f.assignedTo = :aid"
    ),
    @NamedQuery(
            name = "FoodDonation.countByLocation",
            query = "SELECT f.location, COUNT(f) FROM FoodDonation f GROUP BY f.location"
        )
})

@Entity
@Table(name = "food_donations")
public class FoodDonation {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private int fid;

    private String name;

    private String email;

    private String food;

    private String type;

    private String category;

    private String quantity;

    private LocalDateTime date;

    private String address;

    private String location;

    private String phoneno;

    private Integer assignedTo;

    private Integer deliveryBy;
    
    @ManyToOne
    @JoinColumn(name = "donor_id")  // foreign key in food_donations table
    private Donor donor;

    // Getters and Setters

    public int getFid() {
        return fid;
    }

    public void setFid(int fid) {
        this.fid = fid;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public String getFood() {
        return food;
    }

    public void setFood(String food) {
        this.food = food;
    }

    public String getType() {
        return type;
    }

    public void setType(String type) {
        this.type = type;
    }

    public String getCategory() {
        return category;
    }

    public void setCategory(String category) {
        this.category = category;
    }

    public String getQuantity() {
        return quantity;
    }

    public void setQuantity(String quantity) {
        this.quantity = quantity;
    }

    public LocalDateTime getDate() {
        return date;
    }

    public void setDate(LocalDateTime date) {
        this.date = date;
    }

    public String getAddress() {
        return address;
    }

    public void setAddress(String address) {
        this.address = address;
    }

    public String getLocation() {
        return location;
    }

    public void setLocation(String location) {
        this.location = location;
    }

    public String getPhoneno() {
        return phoneno;
    }

    public void setPhoneno(String phoneno) {
        this.phoneno = phoneno;
    }

    public Integer getAssignedTo() {
        return assignedTo;
    }

    public void setAssignedTo(Integer assignedTo) {
        this.assignedTo = assignedTo;
    }

    public Integer getDeliveryBy() {
        return deliveryBy;
    }

    public void setDeliveryBy(Integer deliveryBy) {
        this.deliveryBy = deliveryBy;
    }

	public FoodDonation orElseThrow() {
		// TODO Auto-generated method stub
		return null;
	}
}


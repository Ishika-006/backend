package com.ishika.foodwaste.jpa.entity;

import jakarta.persistence.*;
import java.time.LocalDateTime;
@NamedQueries({
    @NamedQuery(
        name = "FoodDonation.findByLocation",
        query = "SELECT f FROM FoodDonation f WHERE f.location = :location"
    ),
    @NamedQuery(
        name = "FoodDonation.findByAssignedTo",
        query = "SELECT f FROM FoodDonation f WHERE f.assignedTo = :aid"
    ),
    @NamedQuery(
            name = "FoodDonation.countByLocation",
            query = "SELECT f.location, COUNT(f) FROM FoodDonation f GROUP BY f.location"
        )
})

@Entity
@Table(name = "food_donations")
public class FoodDonation {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private int fid;

    private String name;

    private String email;

    private String food;

    private String type;

    private String category;

    private String quantity;

    private LocalDateTime date;

    private String address;

    private String location;

    private String phoneno;

    @ManyToOne
    @JoinColumn(name = "assigned_to")
    private NGOS assignedNGO;

    @ManyToOne
    @JoinColumn(name = "delivery_by")
    private DeliveryPerson deliveryPerson;
    
    @ManyToOne
    @JoinColumn(name = "donor_id")  // foreign key in food_donations table
    private Donor donor;

    // Getters and Setters

    
}

